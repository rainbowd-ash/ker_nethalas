[gd_scene load_steps=8 format=3 uid="uid://cld1c4x65h2t7"]

[ext_resource type="PackedScene" uid="uid://codjfwxwjfo8g" path="res://modes/modemachine/mode_machine.tscn" id="1_lcfvi"]
[ext_resource type="Script" path="res://modes/game.gd" id="1_ow7ic"]
[ext_resource type="PackedScene" uid="uid://k4nigwxll27" path="res://modes/modemachine/modes/dungeon_mode.tscn" id="2_q553v"]
[ext_resource type="PackedScene" uid="uid://y8f7iqc6u1vp" path="res://modes/action_selection/action_selection.tscn" id="3_2och2"]
[ext_resource type="PackedScene" uid="uid://c2vcui05i3wim" path="res://modes/modemachine/modes/combat_mode.tscn" id="4_hrula"]
[ext_resource type="PackedScene" uid="uid://dpwu21k1ya0ad" path="res://modes/dungeon/dungeon.tscn" id="5_xv7t0"]
[ext_resource type="PackedScene" uid="uid://bxcxx1ioxwp48" path="res://modes/combat/combat.tscn" id="6_mptfh"]

[node name="Game" type="Node" node_paths=PackedStringArray("initial_mode", "action_selection_ui")]
script = ExtResource("1_ow7ic")
initial_mode = NodePath("ModeMachine/DungeonMode")
action_selection_ui = NodePath("UI/ActionSelectionUI")

[node name="ModeMachine" parent="." instance=ExtResource("1_lcfvi")]

[node name="DungeonMode" parent="ModeMachine" node_paths=PackedStringArray("attached_scene") instance=ExtResource("2_q553v")]
attached_scene = NodePath("../../Dungeon")

[node name="CombatMode" parent="ModeMachine" node_paths=PackedStringArray("attached_scene") instance=ExtResource("4_hrula")]
attached_scene = NodePath("../../Combat")

[node name="UI" type="CanvasLayer" parent="."]

[node name="ActionSelectionUI" parent="UI" instance=ExtResource("3_2och2")]

[node name="Dungeon" parent="." instance=ExtResource("5_xv7t0")]

[node name="Combat" parent="." instance=ExtResource("6_mptfh")]
visible = false
